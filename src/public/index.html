<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>LowcodeBoot</title>
    <link rel="icon" href="//img.alicdn.com/imgextra/i2/O1CN01lNWGJi1xflgRfSgbk_!!6000000006471-55-tps-22-26.svg">
    <link href="https://i.ablula.tech/npm/@ablula/lowcode-boot@0.1.1/dist/lowcode-boot.css" rel="stylesheet" />
    <!-- 低代码引擎的页面主题样式，可以替换为 theme-lowcode-dark -->
    <link href="https://alifd.alicdn.com/npm/@alifd/theme-jinchan@0.1.0/variables.css" rel="stylesheet" />
    <link href="https://alifd.alicdn.com/npm/@alifd/theme-jinchan@0.1.0/dist/next.var.min.css" rel="stylesheet" />
    <!-- 低代码引擎的页面框架样式 -->
    <link rel="stylesheet" href="https://uipaas-assets.com/prod/npm/@alilc/lowcode-engine/1.0.18/dist/css/engine-core.css" />
    <!-- 低代码引擎官方扩展的样式 -->
    <link rel="stylesheet" href="https://uipaas-assets.com/prod/npm/@alilc/lowcode-engine-ext/1.0.5/dist/css/engine-ext.css" />

    <!-- React，可替换为 production 包 -->
    <script src="https://g.alicdn.com/code/lib/react/16.13.1/umd/react.production.min.js"></script>
    <!-- React DOM，可替换为 production 包 -->
    <script src="https://g.alicdn.com/code/lib/react-dom/16.13.1/umd/react-dom.production.min.js"></script>
    <!-- React 向下兼容，预防物料层的依赖 -->
    <script src="https://g.alicdn.com/code/lib/prop-types/15.7.2/prop-types.js"></script>
    <script src="https://g.alicdn.com/platform/c/react15-polyfill/0.0.1/dist/index.js"></script>
    <!-- lodash，低代码编辑器的依赖 -->
    <script src="https://g.alicdn.com/platform/c/lodash/4.6.1/lodash.min.js"></script>
    <!-- 日期处理包，Fusion Next 的依赖 -->
    <script src="https://g.alicdn.com/mylib/moment/2.24.0/min/moment.min.js"></script>
    <!-- Fusion Next 的主包，低代码编辑器的依赖 -->
    <script src="https://g.alicdn.com/code/lib/alifd__next/1.23.24/next.min.js"></script>
    <!-- 低代码引擎的主包 -->
    <script crossorigin="anonymous" src="https://uipaas-assets.com/prod/npm/@alilc/lowcode-engine/1.0.18/dist/js/engine-core.js"></script>
    <!-- 低代码引擎官方扩展的主包 -->
    <script crossorigin="anonymous" src="https://uipaas-assets.com/prod/npm/@alilc/lowcode-engine-ext/1.0.5/dist/js/engine-ext.js"></script>
    <style>
      #engine {
        height: 100vh;
      }
      #lce-container {
        height: 100vh;
      }
    </style>
  </head>

  <body>
    <div id="lce-container"></div>
    <script type="text/javascript" src="https://i.ablula.tech/npm/@ablula/lowcode-boot@0.1.1/dist/lowcode-boot.js"></script>
    <script>

      const assets = <%= assets %>;

      const LCE_CONTAINER = document.getElementById('lce-container');

      const config = {
        // locale: 'zh-CN',
        enableCondition: true,
        enableCanvasLock: true,
        // 默认绑定变量
        supportVariableGlobally: true,
        // simulatorUrl 在当 engine-core.js 同一个父路径下时是不需要配置的！！！
        // 这里因为用的是 alifd cdn，在不同 npm 包，engine-core.js 和 react-simulator-renderer.js 是不同路径
        simulatorUrl: [
          'https://alifd.alicdn.com/npm/@alilc/lowcode-react-simulator-renderer@1.0.18/dist/css/react-simulator-renderer.css',
          'https://alifd.alicdn.com/npm/@alilc/lowcode-react-simulator-renderer@1.0.18/dist/js/react-simulator-renderer.js'
        ],
        pluginConfig: {
          logo: {
            logo: 'https://i.ablula.tech/awesome-lowcode/logo.png',
            href: 'https://space.bilibili.com/6962628'
          }
        }
      };

      const DefaultSchema = {
        "componentName": "Page",
        "props": {},
        "hidden": false,
        "title": "",
        "isLocked": false,
        "condition": true,
        "conditionGroup": "",
        "dataSource": {
          "list": []
        },
        "state": {},
        "methods": {
          "testFunc": {
            "type": "JSFunction",
            "value": "function testFunc() {\n  console.log('test aliLowcode func');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test-aliLowcode-func\"\n  }, this.state.test);\n}",
            "source": "function testFunc() {\n  console.log('test aliLowcode func');\n  return <div className=\"test-aliLowcode-func\">\n        {this.state.test}\n      </div>;\n}"
          }
        },
        "lifeCycles": {},
        "originCode": "class Page extends Component {\n  undefined\n  \n  \n  // 你可以在这里编写函数，并且与组件的事件进行绑定，支持JSX语法\n  testFunc() {\n    console.log('test aliLowcode func');\n    return (\n      <div className=\"test-aliLowcode-func\">\n        {this.state.test}\n      </div>\n    );\n  }\n  \n}",
        "css": "",
        "children": [
        ]
      }

      AwesomeLowcodeBoot.start(assets, DefaultSchema, LCE_CONTAINER, config)

    </script>
  </body>
</html>
